<!-- Events Section with Timeline -->
<section class="py-10 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4">
        <!-- Events Header and Description -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <!-- Left Side - Description and Image -->
            <div class="flex flex-col">
                <div class="mb-6">
                    <h2 class="text-[#1C2A0E] text-3xl font-bold mb-4">
                        Upcoming Community Events in Sikkim Villages
                    </h2>
                    <p class="text-[#1C2A0E] text-base mb-4">
                        Stay updated on the latest cultural celebrations, festivals, and unique experiences happening across Sikkim's village communities. From vibrant traditional dances to immersive homestay experiences, these events offer visitors a chance to connect with the rich heritage and warm hospitality of Sikkim.
                    </p>
                    <a [routerLink]="'/event'" class="inline-flex px-6 py-2.5 bg-[#1C2A0E] text-white rounded-full hover:bg-[#2A3F15] transition duration-300 text-sm">
                        Explore Events
                    </a>
                </div>
                <!-- Added Image - now fills space until pagination -->
                <div class="relative rounded-xl overflow-hidden aspect-[4/3]">
                    <img 
                        src="https://images.unsplash.com/photo-1590002893558-64f0d58dcca4?q=80&w=2574&auto=format&fit=crop"
                        alt="Buddhist monks in traditional ceremony" 
                        class="w-full h-full object-cover"
                    />
                    <div class="absolute inset-0 bg-black/20"></div>
                </div>
            </div>
  
            <!-- Right Side - Events Timeline with Swiper -->
            <div class="h-[600px]">
                <swiper-container
                    slides-per-view="1"
                    space-between="20"
                    navigation="false"
                    pagination="true"
                    pagination-clickable="true"
                    touch-move-stop-propagation="true"
                    touch-start-prevent-default="true"
                    class="h-full">
                    
                    <swiper-slide *ngFor="let eventGroup of getEventGroups()" class="h-auto">
                        <div class="space-y-4">
                            <div *ngFor="let event of eventGroup" class="relative pl-6 before:content-[''] before:absolute before:left-[5px] before:top-0 before:bottom-0 before:w-0.5 before:bg-gradient-to-b before:from-[#1C2A0E] before:to-[#1C2A0E]/20">
                                <!-- Event -->
                                <div class="relative mt-2 mb-3 cursor-pointer">
                                    <!-- Event Date -->
                                    <div class="inline-block px-2 py-0.5 rounded-full bg-[#1C2A0E]/5 text-[#1C2A0E] text-xs font-medium mb-1">
                                        {{event.startDate | date:'d MMMM YYYY'}} - {{event.endDate | date:'d MMMM YYYY'}}
                                    </div>
                                    <!-- Event Content -->
                                    <div class="relative pl-4 before:content-[''] before:absolute before:left-[-11px] before:top-[6px] before:w-2.5 before:h-2.5 before:rounded-full before:border-2 before:border-[#1C2A0E] before:bg-white">
                                        <!-- Event Title -->
                                        <h3 class="text-[#1C2A0E] text-sm font-semibold">{{event.eventName}}</h3>
                                        <!-- Event Location -->
                                        <div class="flex items-center gap-1 text-[#1C2A0E]/60 text-xs mb-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                            </svg>
                                            {{event.location}}
                                        </div>
                                        <!-- Event Description -->
                                        <p class="text-[#1C2A0E] text-xs mb-2 line-clamp-2">
                                            {{event.description}}
                                        </p>
                                        <!-- Know More Link -->
                                        <a [routerLink]="['/event', event.eventId]" 
                                           (click)="handleEventClick($event)"
                                           class="inline-flex items-center w-fit border border-[#1C2A0E] rounded-full px-2 py-0.5 text-xs text-[#1C2A0E] hover:bg-[#1C2A0E] hover:text-white transition-all duration-300">
                                            Know More 
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-2.5 w-2.5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </swiper-slide>
                </swiper-container>
            </div>
        </div>
    </div>
</section>